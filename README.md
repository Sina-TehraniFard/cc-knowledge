# Tehrani Development Knowledge Base

汎用化さてたClaude Codeによる開発支援システムです。

## 概要

このディレクトリには、プロジェクト横断で使用可能な開発ノウハウとワークフローが含まれています：

- **11個のカスタムコマンド** - TDD、設計、テスト、PR等の自動化
- **汎用化されたナレッジベース** - 技術パターンと実装例
- **セッション管理システム** - 効率的なファイル管理
- **自動バックアップシステム** - 安全なファイル編集

## クイックスタート

### 1. インストール（初回のみ）
```bash
# workspace ディレクトリでクローン
cd ~/workspace
git clone [repository-url] cc-knowledge
cd cc-knowledge

# グローバルナレッジベースをインストール
./install.sh --global

# シェルを再起動するか、設定を再読み込み
source ~/.bashrc  # または ~/.zshrc
```

### 2. プロジェクト初期化
```bash
# あなたのプロジェクトディレクトリで実行
cd ~/workspace/your-project
~/workspace/cc-knowledge/install.sh --project

# 自動でプロジェクトタイプを検出し、適切な設定を生成
```

### 3. 基本使用方法
```bash
# コマンドを実行するだけで自動的にナレッジが蓄積される
/fix-test SomeTest.java
/implement @tdd design.md
/next-steps

# ナレッジは自動的に分類・保存される
# - 汎用的なパターン → グローバルナレッジ
# - プロジェクト固有 → プロジェクトナレッジ
```

### 4. よく使うコマンド
```bash
# TDDで実装
/implement @tdd <設計ファイル>

# テスト修正
/fix-test @test-fix <テストファイル>

# 次ステップ提案
/next-steps <内容>

# PR作成
/pr
```

## ディレクトリ構成

### インストール後の構成
```
~/workspace/
├── cc-knowledge/              # グローバルナレッジベース
│   ├── docs/
│   │   ├── knowledge/         # 汎用技術パターン（自動蓄積）
│   │   └── guidelines/        # 共通ガイドライン
│   ├── scripts/               # 共通スクリプト
│   └── templates/             # プロジェクトテンプレート
│
└── your-project/              # あなたのプロジェクト
    ├── .claude/               # プロジェクト固有設定
    │   ├── commands/          # カスタマイズされたコマンド
    │   ├── knowledge/         # プロジェクト固有ナレッジ（自動蓄積）
    │   │   ├── patterns/      # 実装パターン
    │   │   └── lessons/       # 学習事項
    │   ├── scripts/           # 自動ナレッジ管理スクリプト
    │   └── CLAUDE.md          # プロジェクト設定
    └── (プロジェクトコード)
```

### このリポジトリの構成
```
cc-knowledge/
├── install.sh         # インストールスクリプト
├── demo.sh            # デモスクリプト
├── commands/          # カスタムコマンド定義 (11個)
├── docs/
│   ├── guidelines/    # 開発ガイドライン
│   └── knowledge/     # 技術パターン集
├── scripts/           # 支援スクリプト
├── CLAUDE.md          # 詳細ドキュメント
└── README.md          # このファイル
```

## 主要機能

### 🚀 新機能：自動ナレッジ管理システム
- **自動分類**: 汎用的なパターンをグローバルに、固有のものをプロジェクトに自動保存
- **成功率ベース**: 90%以上の成功率のパターンのみを自動蓄積
- **透明な管理**: ユーザーは意識せず、コマンド実行だけで自動的にナレッジが蓄積
- **昇格システム**: プロジェクト固有パターンの汎用化を自動検出

### カスタムコマンド
- **設計**: `/design` - 設計書生成
- **実装**: `/implement` - TDDサイクル実行
- **テスト**: `/fix-test`, `/lint-test`, `/test-review` - テスト支援（**ナレッジ自動蓄積**）
- **管理**: `/next-steps`, `/pr`, `/commit-changes` - 管理作業
- **高度**: `/orchestrator`, `/review-pr-local-branch` - 複雑タスク

### セッション管理
- チケット番号ベースの自動ディレクトリ構成
- 5分以内のセッション統合
- 自動バックアップとtrash管理

### ナレッジベース
- 複雑条件ロジックリファクタリングパターン
- テストガイドライン（TDD準拠）
- ナレッジ管理ガイドライン

## 使用方法

### 日常開発フロー
1. **設計フェーズ**: `/design` でドキュメント生成
2. **実装フェーズ**: `/implement @tdd` でTDD実行
3. **テストフェーズ**: `/fix-test @test-fix` で修正
4. **レビューフェーズ**: `/test-review` で品質確認
5. **完了フェーズ**: `/pr` でPRドキュメント作成

### タグシステム活用
```bash
@tdd          # TDDサイクル強制
@test-fix     # 段階的テスト改善
@refactor     # 安全なリファクタリング
@api          # API設計・変更
@security     # セキュリティ考慮
```

## 詳細ドキュメント

より詳しい情報は [CLAUDE.md](CLAUDE.md) を参照してください：
- 全コマンドの詳細説明
- セッション管理の詳細設定
- ナレッジベース活用方法
- プロジェクト固有カスタマイズ方法

## 技術的特徴

### 🧠 インテリジェントなナレッジ管理
- **自動スコープ検出**: コンテンツ分析によるグローバル/プロジェクト分類
- **成功率追跡**: パターンの有効性を自動測定・記録
- **昇格候補検出**: プロジェクト固有パターンの汎用化可能性を判定
- **統計自動更新**: ナレッジベースの統計情報を自動維持

### 汎用性
- `~/workspace` 記法で環境非依存
- プロジェクト横断で利用可能
- **プロジェクトタイプ自動検出**: Node.js, Java, Python等に対応
- **テンプレート自動選択**: 適切なコマンドセットを自動配置

### 安全性
- 自動バックアップシステム
- 段階的修正による失敗リスク軽減
- trash管理による復旧可能性
- **ナレッジ消失防止**: プロジェクト削除時も汎用パターンは保護

### 効率性
- セッション指向のファイル管理
- カスタムコマンドによる作業自動化
- ナレッジベース連携による学習効率向上
- **透明な操作**: ユーザーは意識せずにナレッジが蓄積される

## 更新履歴

### 2025年7月25日 - v2.0 自動ナレッジ管理システム
- **🚀 自動ナレッジ蓄積**: コマンド実行時の自動的なパターン収集
- **🎯 スコープ自動判定**: グローバル vs プロジェクト固有の自動分類
- **📦 インストールスクリプト**: ワンコマンドでの環境構築
- **🔄 昇格システム**: プロジェクト固有パターンの自動汎用化
- **📊 統計自動更新**: ナレッジベース統計の自動維持

### 2025年7月 - v1.0
- 汎用版ナレッジベースの構築完了
- 11個のカスタムコマンド統合
- セッション管理システム導入

---

## 🚀 クイックスタート

```bash
# 1. クローンとインストール（初回のみ）
cd ~/workspace
git clone [repository-url] cc-knowledge
cd cc-knowledge
./install.sh --global
source ~/.bashrc  # または ~/.zshrc

# 2. プロジェクト初期化
cd ~/workspace/your-project
~/workspace/cc-knowledge/install.sh --project

# 3. 使用開始！
/fix-test SomeTest.java  # 自動的にナレッジが蓄積される
```

💡 **詳細情報**: [CLAUDE.md](CLAUDE.md) で全機能の詳細を確認できます。