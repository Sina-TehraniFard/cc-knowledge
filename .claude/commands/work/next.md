# /work/next - æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ææ¡ˆã‚³ãƒãƒ³ãƒ‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾çŠ¶ã‚’åˆ†æã—ã€æ¬¡ã«å–ã‚Šçµ„ã‚€ã¹ãä½œæ¥­ã‚’ææ¡ˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

## ä½¿ç”¨æ–¹æ³•

```bash
# åŸºæœ¬ä½¿ç”¨
/work/next

# ç‰¹å®šé ˜åŸŸã®åˆ†æ
/work/next --focus backend
/work/next --focus frontend  
/work/next --focus testing

# è©³ç´°åˆ†æ
/work/next --detailed
```

## åˆ†æé …ç›®

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³åˆ†æ
1. **GitçŠ¶æ…‹** - ã‚³ãƒŸãƒƒãƒˆçŠ¶æ³ã€ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ…‹
2. **ãƒ†ã‚¹ãƒˆçŠ¶æ³** - ã‚«ãƒãƒ¬ãƒƒã‚¸ã€å¤±æ•—ãƒ†ã‚¹ãƒˆ
3. **ä¾å­˜é–¢ä¿‚** - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ›´æ–°ã€è„†å¼±æ€§
4. **ã‚³ãƒ¼ãƒ‰å“è³ª** - æŠ€è¡“çš„è² å‚µã€æ”¹å–„ç‚¹
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** - ä¸è¶³ã—ã¦ã„ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ä½œæ¥­å„ªå…ˆåº¦ã®è‡ªå‹•ç®—å‡º
```bash
# å„ªå…ˆåº¦ç®—å‡ºãƒ­ã‚¸ãƒƒã‚¯
calculate_priority() {
    local task="$1"
    local urgency=0    # ç·Šæ€¥åº¦ï¼ˆ0-10ï¼‰
    local impact=0     # å½±éŸ¿åº¦ï¼ˆ0-10ï¼‰
    local effort=0     # å·¥æ•°ï¼ˆ0-10ã€é€†ç®—ï¼‰
    
    # ç·Šæ€¥åº¦åˆ¤å®š
    if [[ "$task" =~ "security|vulnerability" ]]; then
        urgency=10
    elif [[ "$task" =~ "bug|error|failed" ]]; then
        urgency=8
    elif [[ "$task" =~ "refactor|improvement" ]]; then
        urgency=5
    fi
    
    # å½±éŸ¿åº¦åˆ¤å®š
    if [[ "$task" =~ "core|critical|main" ]]; then
        impact=9
    elif [[ "$task" =~ "feature|enhancement" ]]; then
        impact=7
    fi
    
    # å„ªå…ˆåº¦ã‚¹ã‚³ã‚¢ = (ç·Šæ€¥åº¦ + å½±éŸ¿åº¦) / å·¥æ•°
    local priority_score=$(( (urgency + impact) * 10 / (effort + 1) ))
    echo "$priority_score"
}
```

## å®Ÿè¡Œä¾‹

```bash
/work/next

# åˆ†æçµæœ:
# ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³åˆ†æå®Œäº†
#
# ğŸš¨ é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯:
# 1. [é‡è¦] PaymentServiceTest.java ã®å¤±æ•—ãƒ†ã‚¹ãƒˆä¿®æ­£
#    â†’ å½±éŸ¿ç¯„å›²: æ±ºæ¸ˆæ©Ÿèƒ½å…¨ä½“
#    â†’ æ¨å®šå·¥æ•°: 30åˆ†
#    â†’ æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰: /dev/test --fix PaymentServiceTest.java
#
# 2. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£] npm audit ã§æ¤œå‡ºã•ã‚ŒãŸè„†å¼±æ€§å¯¾å¿œ  
#    â†’ CVE-2023-xxxx (High severity)
#    â†’ æ¨å®šå·¥æ•°: 1æ™‚é–“
#    â†’ æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰: npm audit fix
#
# ğŸ¯ ä¸­å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯:
# 3. [å“è³ª] UserService.js ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
#    â†’ å¾ªç’°çš„è¤‡é›‘åº¦: 15 (æ¨å¥¨: <10)
#    â†’ æ¨å®šå·¥æ•°: 2æ™‚é–“
#    â†’ æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰: /dev/implement --refactor UserService.js
#
# ğŸ“š ä½å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯:
# 4. [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ] APIä»•æ§˜æ›¸ã®æ›´æ–°
#    â†’ æœ€çµ‚æ›´æ–°: 2é€±é–“å‰
#    â†’ æ¨å®šå·¥æ•°: 1æ™‚é–“
#    â†’ æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰: /manage/docs --api
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒŠãƒ¬ãƒƒã‚¸æ´»ç”¨

### éå»ã®ä½œæ¥­ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ
```bash
# éå»ã®æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç”Ÿæˆ
analyze_historical_patterns() {
    local current_context="$1"
    
    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒŠãƒ¬ãƒƒã‚¸ã‹ã‚‰é¡ä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢
    find .claude/knowledge/patterns -name "*.md" | while read pattern_file; do
        if grep -qi "$current_context" "$pattern_file"; then
            local success_rate=$(grep "success_rate:" "$pattern_file" | sed 's/.*"\([0-9]*\)%".*/\1/')
            if [[ "$success_rate" -ge 80 ]]; then
                echo "ğŸ“š éå»ã®æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹: $(basename "$pattern_file")"
                echo "   æˆåŠŸç‡: ${success_rate}% - æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ææ¡ˆ"
            fi
        fi
    done
}
```

### ä½œæ¥­å±¥æ­´ã‹ã‚‰ã®å­¦ç¿’
```bash
# ä½œæ¥­å®Œäº†æ™‚ã®è‡ªå‹•ãƒŠãƒ¬ãƒƒã‚¸ä¿å­˜
auto_save_work_knowledge \
    "next-steps-analysis" \
    "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³åˆ†æ" \
    "å„ªå…ˆåº¦ä»˜ãã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆç”Ÿæˆå®Œäº†" \
    "åŠ¹ç‡çš„ãªä½œæ¥­é †åºã®ææ¡ˆ" \
    "$(pwd)"
```

## ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ã‚«ã‚¹åˆ†æ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å°‚ç”¨åˆ†æ
```bash
/work/next --focus backend

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å›ºæœ‰ã®åˆ†æ:
# ğŸ”§ APIè¨­è¨ˆã®æ•´åˆæ€§
# ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ³  
# ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³
# ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒœãƒˆãƒ«ãƒãƒƒã‚¯
# ğŸ§ª çµ±åˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å°‚ç”¨åˆ†æ
```bash
/work/next --focus frontend

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å›ºæœ‰ã®åˆ†æ:
# ğŸ¨ UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å“è³ª
# ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
# âš¡ ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–
# ğŸ§ª E2Eãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
# â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
```

## è‡ªå‹•å®Ÿè¡Œææ¡ˆ

### ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯å®Ÿè¡Œ
```bash
# æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰ã®è‡ªå‹•å®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³
/work/next --auto-execute

# ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãã§æœ€é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ:
# "PaymentServiceTest.java ã®ä¿®æ­£ã‚’å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ (y/N)"
# â†’ yå…¥åŠ›ã§ /dev/test --fix PaymentServiceTest.java ã‚’è‡ªå‹•å®Ÿè¡Œ
```

### ãƒãƒƒãƒå®Ÿè¡Œ
```bash
# è¤‡æ•°ã‚¿ã‚¹ã‚¯ã®é€£ç¶šå®Ÿè¡Œ
/work/next --batch

# å®Ÿè¡Œä¾‹:
# 1. /dev/test --fix PaymentServiceTest.java
# 2. npm audit fix  
# 3. /dev/test --coverage
# 4. /work/commit --message "Fix payment tests and security updates"
```

## å‡ºåŠ›å½¢å¼

### æ¨™æº–å‡ºåŠ›
- å„ªå…ˆåº¦é †ã®ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
- å„ã‚¿ã‚¹ã‚¯ã®è©³ç´°æƒ…å ±ï¼ˆå½±éŸ¿ç¯„å›²ã€å·¥æ•°ã€æ¨å¥¨ã‚³ãƒãƒ³ãƒ‰ï¼‰
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¥å…¨æ€§ã‚¹ã‚³ã‚¢

### ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›
```bash
# è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã®è‡ªå‹•ä¿å­˜
OUTPUT_PATH="/Users/$(whoami)/Documents/claude-outputs/$(date +%Y-%m-%d)/æ¬¡ã‚¹ãƒ†ãƒƒãƒ—åˆ†æ-$(date +%H%M).md"

# å‡ºåŠ›å†…å®¹:
# - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³ã®è©³ç´°åˆ†æ
# - å„ã‚¿ã‚¹ã‚¯ã®æ ¹æ‹ ã¨æ¨å¥¨ç†ç”±  
# - éå»ã®é¡ä¼¼ä½œæ¥­ã§ã®æˆåŠŸäº‹ä¾‹
# - é•·æœŸçš„ãªæ”¹å–„ææ¡ˆ
```

## é€£æºã‚³ãƒãƒ³ãƒ‰

```bash
# åˆ†æ â†’ å®Ÿè¡Œ â†’ ç¢ºèªã®ãƒ•ãƒ­ãƒ¼
/work/next                    # æ¬¡ã‚¿ã‚¹ã‚¯åˆ†æ
/dev/test --fix TestFile.java # æ¨å¥¨ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ  
/work/next                    # é€²æ—ç¢ºèªãƒ»æ¬¡ã‚¿ã‚¹ã‚¯
/work/commit                  # ä½œæ¥­ã‚³ãƒŸãƒƒãƒˆ
```